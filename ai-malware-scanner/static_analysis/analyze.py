import pefile

def extract_static_features(file_path):
    try:
        pe = pefile.PE(file_path)
        features = {
            "entry_point": pe.OPTIONAL_HEADER.AddressOfEntryPoint,
            "image_base": pe.OPTIONAL_HEADER.ImageBase,
            "sections": len(pe.sections),
            "imports": len(pe.DIRECTORY_ENTRY_IMPORT) if hasattr(pe, 'DIRECTORY_ENTRY_IMPORT') else 0
        }
        return features
    except Exception as e:
        print(f"Error processing file {file_path}: {e}")
        return None
